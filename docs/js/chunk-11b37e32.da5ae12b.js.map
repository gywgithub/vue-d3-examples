{"version":3,"sources":["webpack:///./src/components/TreeVI.vue?d17d","webpack:///src/components/TreeVI.vue","webpack:///./src/components/TreeVI.vue?ccf7","webpack:///./src/components/TreeVI.vue","webpack:///./src/components/TreeVI.vue?8181","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","data","nodeId","nodeName","zoom","index","root","nodes","links","dTreeData","margin","currentNode","svg","container","newNodeName","rootNodeId","mounted","width","Math","floor","clientWidth","height","clientHeight","console","log","x0","y0","descendants","forEach","d","id","i","_children","children","depth","name","length","zoomActions","gNode","attr","d3","gLink","update","tree","eachBefore","node","x","left","right","nodeEnter","append","nodeUpdate","nodeExit","link","merge","linkEnter","transition","exit","remove","y","call","zoomHandler","on","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","key","explicit","Collection","proto"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,qDAC5HC,EAAkB,G,kCCOtB,GACEC,KADF,WAEI,MAAO,CACLC,OAAQ,GACRC,SAAU,GACVC,KAAM,KACNC,MAAO,EACPC,KAAM,KACNC,MAAO,GACPC,MAAO,GACPC,UAAW,KACXC,OAAQ,CAAd,mCACMC,YAAa,KACbC,IAAK,KACLC,UAAW,KAEXC,YAAa,GACbC,WAAY,OAGhBC,QApBF,WAqBI,IAAJ,GACM,KAAQ,QACR,MAAS,EACT,SAAY,CAAC,CACX,KAAQ,OACR,MAAS,GACT,SAAY,CACpB,CACU,KAAV,OACU,MAAV,QAEA,CACU,KAAV,WACU,MAAV,OAEA,CACU,KAAV,OACU,MAAV,GACU,SAAV,CACA,CACY,KAAZ,gBACY,MAAZ,MAEA,CACY,KAAZ,iBACY,MAAZ,IAEA,CACY,KAAZ,iBACY,MAAZ,IACY,SAAZ,CACA,CACc,KAAd,mBACc,MAAd,OAEA,CACc,KAAd,mBACc,MAAd,KAEA,CACc,KAAd,kBACc,MAAd,UAMA,CACU,KAAV,OACU,MAAV,MAIA,CACQ,KAAQ,MACR,MAAS,GACT,SAAY,CAAC,CACX,KAAQ,gBACR,MAAS,WAKnB,4BACA,6BACItB,KAAKuB,MAAQC,KAAKC,MAAoB,GAAdC,GACxB1B,KAAK2B,OAASC,EAAe,GAC7BC,QAAQC,IAAI,UAAY9B,KAAKuB,MAAQ,YAAcvB,KAAK2B,QAExD,IAAJ,wCAEA,aAEA,MACA,KAEA,2BACA,qEAEA,YAEIf,EAAKmB,GAAK,EACVnB,EAAKoB,GAAK,EACVpB,EAAKqB,cAAcC,SAAQ,SAA/B,KACMC,EAAEC,GAAKC,EACPF,EAAEG,UAAYH,EAAEI,SACZJ,EAAEK,OAAgC,IAAvBL,EAAE5B,KAAKkC,KAAKC,SAAcP,EAAEI,SAAW,SAGxD,IAAJ,SACA,kBACA,qCAEA,gBACA,oBACA,sBACA,0BACA,yBAEA,gBACA,yBACA,6BAIA,WACA,aACA,oBAMI,SAASI,IACPC,EAAMC,KAAK,YAAaC,EAA9B,gBACMC,EAAMF,KAAK,YAAaC,EAA9B,gBAII,SAASE,EAAb,GACM,IAAN,iCACA,4BACA,YAGMC,EAAKrC,GAIL,IAAN,IACA,IACMA,EAAKsC,YAAW,SAAtB,GACYC,EAAKC,EAAIC,EAAKD,IAAGC,EAAOF,GACxBA,EAAKC,EAAIE,EAAMF,IAAGE,EAAQH,MAGhC,IAAN,yBAEA,iBACA,YACA,wCAEA,qDAAQ,OAAR,0CAGA,mBACA,oBAAQ,OAAR,QAGA,wBACA,6BAAQ,MAAR,kDACA,uBACA,yBACA,wBACQ,EAAR,qCACQ,EAAR,MAGMI,EAAUC,OAAO,UAOvB,aACA,yBAAQ,OAAR,gCAIA,uBACA,yBAEMD,EAAUC,OAAO,QACvB,oBAEA,sBAAQ,OAAR,sBACA,gCAAQ,OAAR,6BACA,kBAAQ,OAAR,eACA,kBACA,gCACA,uBACA,uBAGM,IAAN,2BACA,8BAAQ,MAAR,gDAMA,uBACA,yBACM3B,QAAQC,IAAI2B,GAGZ,IAAN,kCACA,6BAAQ,MAAR,gDACA,uBACA,yBAEM5B,QAAQC,IAAI4B,GAGZ,IAAN,sBACA,oBAAQ,OAAR,eAGA,2BACA,qBACQ,IAAR,GAAU,EAAV,KAAU,EAAV,MACQ,OAAR,GAAU,OAAV,EAAU,OAAV,OAIMC,EAAKC,MAAMC,GAAWC,WAAWA,GACvC,YAGMH,EAAKI,OAAOD,WAAWA,GAAYE,SACzC,qBACQ,IAAR,GAAU,EAAV,IAAU,EAAV,KACQ,OAAR,GAAU,OAAV,EAAU,OAAV,OAIMpD,EAAKsC,YAAW,SAAtB,GACQf,EAAEJ,GAAKI,EAAEiB,EACTjB,EAAEH,GAAKG,EAAE8B,KAxHb/C,EAAIgD,KAAKC,GAAaC,GAAG,gBAAiB,MAC1CD,EAAYjD,GA2HZ8B,EAAOpC,KCtQqU,I,wBCQ5UyD,EAAY,eACd,EACAvE,EACAQ,GACA,EACA,KACA,WACA,MAIa,aAAA+D,E,2CCnBf,W,uBCAA,IAAIC,EAAK,EAAQ,QAAgBC,EAC7BC,EAASC,SAASC,UAClBC,EAAS,wBACTC,EAAO,OAGXA,KAAQJ,GAAU,EAAQ,SAAqBF,EAAGE,EAAQI,EAAM,CAC9DC,cAAc,EACdC,IAAK,WACH,IACE,OAAQ,GAAK9E,MAAM+E,MAAMJ,GAAQ,GACjC,MAAOK,GACP,MAAO,Q,qBCiCb,IA7CA,IAAIC,EAAa,EAAQ,QACrBC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QACnBC,EAAS,EAAQ,QACjBC,EAAO,EAAQ,QACfC,EAAY,EAAQ,QACpBC,EAAM,EAAQ,QACdC,EAAWD,EAAI,YACfE,EAAgBF,EAAI,eACpBG,EAAcJ,EAAUK,MAExBC,EAAe,CACjBC,aAAa,EACbC,qBAAqB,EACrBC,cAAc,EACdC,gBAAgB,EAChBC,aAAa,EACbC,eAAe,EACfC,cAAc,EACdC,sBAAsB,EACtBC,UAAU,EACVC,mBAAmB,EACnBC,gBAAgB,EAChBC,iBAAiB,EACjBC,mBAAmB,EACnBC,WAAW,EACXC,eAAe,EACfC,cAAc,EACdC,UAAU,EACVC,kBAAkB,EAClBC,QAAQ,EACRC,aAAa,EACbC,eAAe,EACfC,eAAe,EACfC,gBAAgB,EAChBC,cAAc,EACdC,eAAe,EACfC,kBAAkB,EAClBC,kBAAkB,EAClBC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfC,WAAW,GAGJC,EAAc1C,EAAQU,GAAevD,EAAI,EAAGA,EAAIuF,EAAYlF,OAAQL,IAAK,CAChF,IAIIwF,EAJAjD,EAAOgD,EAAYvF,GACnByF,EAAWlC,EAAahB,GACxBmD,EAAa3C,EAAOR,GACpBoD,EAAQD,GAAcA,EAAWrD,UAErC,GAAIsD,IACGA,EAAMxC,IAAWH,EAAK2C,EAAOxC,EAAUE,GACvCsC,EAAMvC,IAAgBJ,EAAK2C,EAAOvC,EAAeb,GACtDU,EAAUV,GAAQc,EACdoC,GAAU,IAAKD,KAAO5C,EAAiB+C,EAAMH,IAAM1C,EAAS6C,EAAOH,EAAK5C,EAAW4C,IAAM,K","file":"js/chunk-11b37e32.da5ae12b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{staticClass:\"d3-tree-vi width-100-percent container-border\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <svg class=\"d3-tree-vi width-100-percent container-border\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3'\r\nexport default {\r\n  data () {\r\n    return {\r\n      nodeId: '',\r\n      nodeName: '',\r\n      zoom: null,\r\n      index: 0,\r\n      root: null,\r\n      nodes: [],\r\n      links: [],\r\n      dTreeData: null,\r\n      margin: { top: 20, right: 90, bottom: 30, left: 90 },\r\n      currentNode: null,\r\n      svg: null,\r\n      container: null,\r\n      // nodeObj: null,\r\n      newNodeName: '',\r\n      rootNodeId: null\r\n    }\r\n  },\r\n  mounted () {\r\n    let data = {\r\n      'name': 'flare',\r\n      'value': 1,\r\n      'children': [{\r\n        'name': 'util',\r\n        'value': 23,\r\n        'children': [\r\n          {\r\n            'name': 'ssdf',\r\n            'value': 104993\r\n          },\r\n          {\r\n            'name': 'Geometry',\r\n            'value': 13033\r\n          },\r\n          {\r\n            'name': 'heap',\r\n            'value': 24,\r\n            'children': [\r\n              {\r\n                'name': 'FibonacciHeap',\r\n                'value': 9354\r\n              },\r\n              {\r\n                'name': 'FibonacciHeap2',\r\n                'value': 66\r\n              },\r\n              {\r\n                'name': 'FibonacciHeap3',\r\n                'value': 767,\r\n                'children': [\r\n                  {\r\n                    'name': '333FibonacciHeap',\r\n                    'value': 93541\r\n                  },\r\n                  {\r\n                    'name': '22FibonacciHeap2',\r\n                    'value': 662\r\n                  },\r\n                  {\r\n                    'name': '1FibonacciHeap3',\r\n                    'value': 7673\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            'name': 'math',\r\n            'value': 49\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        'name': 'vis',\r\n        'value': 38,\r\n        'children': [{\r\n          'name': 'Visualization',\r\n          'value': 16540\r\n        }]\r\n      }]\r\n    }\r\n\r\n    let clientWidth = document.body.clientWidth\r\n    let clientHeight = document.body.clientHeight\r\n    this.width = Math.floor(clientWidth * 0.6)\r\n    this.height = clientHeight - 72\r\n    console.log('width: ' + this.width + ' height: ' + this.height) // eslint-disable-line\r\n\r\n    let margin = ({ top: 10, right: 120, bottom: 10, left: 100 })\r\n\r\n    let width = this.width\r\n\r\n    let dy = width / 4\r\n    let dx = 30\r\n\r\n    let tree = d3.tree().nodeSize([dx, dy])\r\n    let diagonal = d3.linkHorizontal().x(d => d.y).y(d => d.x)\r\n\r\n    const root = d3.hierarchy(data)\r\n\r\n    root.x0 = 0\r\n    root.y0 = 0\r\n    root.descendants().forEach((d, i) => {\r\n      d.id = i\r\n      d._children = d.children\r\n      if (d.depth && d.data.name.length !== 4) d.children = null\r\n    })\r\n\r\n    let svg = d3\r\n      .select('svg.d3-tree-vi')\r\n      .attr('viewBox', [-margin.left, -margin.top, width, dx])\r\n\r\n    const gLink = svg.append('g')\r\n      .attr('fill', 'none')\r\n      .attr('stroke', '#555')\r\n      .attr('stroke-opacity', 0.4)\r\n      .attr('stroke-width', 1.5)\r\n\r\n    const gNode = svg.append('g')\r\n      .attr('cursor', 'pointer')\r\n      .attr('pointer-events', 'all')\r\n\r\n    // ****************  zoom ************************\r\n    // add zoom capabilities\r\n    let zoomHandler = d3.zoom()\r\n      .on('zoom', zoomActions)\r\n      .scaleExtent([1 / 2, 8])\r\n\r\n    svg.call(zoomHandler).on('dblclick.zoom', null)\r\n    zoomHandler(svg)\r\n\r\n    // Zoom functions\r\n    function zoomActions () {\r\n      gNode.attr('transform', d3.event.transform)\r\n      gLink.attr('transform', d3.event.transform)\r\n    }\r\n    // ***********************************************\r\n\r\n    function update (source) {\r\n      const duration = d3.event && d3.event.altKey ? 2500 : 250\r\n      const nodes = root.descendants().reverse()\r\n      const links = root.links()\r\n\r\n      // Compute the new tree layout.\r\n      tree(root)\r\n\r\n      // console.log('root ', root)\r\n\r\n      let left = root\r\n      let right = root\r\n      root.eachBefore(node => {\r\n        if (node.x < left.x) left = node\r\n        if (node.x > right.x) right = node\r\n      })\r\n\r\n      const height = right.x - left.x + margin.top + margin.bottom\r\n\r\n      const transition = svg.transition()\r\n        .duration(duration)\r\n        .attr('viewBox', [-margin.left, left.x - margin.top, width, height])\r\n        // .attr('viewBox', [-240, 0, 846, 10])\r\n        .tween('resize', window.ResizeObserver ? null : () => () => svg.dispatch('toggle'))\r\n\r\n      // Update the nodes…\r\n      const node = gNode.selectAll('g')\r\n        .data(nodes, d => d.id)\r\n\r\n      // Enter any new nodes at the parent's previous position.\r\n      const nodeEnter = node.enter().append('g')\r\n        .attr('transform', () => `translate(${source.y0},${source.x0})`)\r\n        .attr('fill-opacity', 0)\r\n        .attr('stroke-opacity', 0)\r\n        .on('click', d => {\r\n          d.children = d.children ? null : d._children\r\n          update(d)\r\n        })\r\n\r\n      nodeEnter.append('circle')\r\n      // .attr('class', 'node')\r\n      // .attr('r', 1e-6)\r\n      // .style('fill', function (d) {\r\n      //   return d._children ? '#c9e4ff' : '#fff'\r\n      // })\r\n\r\n        .attr('r', 10)\r\n        .attr('fill', d => d._children ? '#c9e4ff' : '#fff')\r\n        //  .style('fill', function (d) {\r\n        //           return d._children ? '#c9e4ff' : '#fff'\r\n        //         })\r\n        .attr('stroke-width', 2)\r\n        .attr('stroke', '#c9e4ff')\r\n\r\n      nodeEnter.append('text')\r\n        .attr('dy', '0.31em')\r\n        // .attr('x', d => d._children ? -6 : 6)\r\n        .attr('x', d => d._children ? -14 : 14)\r\n        .attr('text-anchor', d => d._children ? 'end' : 'start')\r\n        .text(d => d.data.name)\r\n        .clone(true).lower()\r\n        .attr('stroke-linejoin', 'round')\r\n        .attr('stroke-width', 3)\r\n        .attr('stroke', 'white')\r\n\r\n      // Transition nodes to their new position.\r\n      const nodeUpdate = node.merge(nodeEnter).transition(transition)\r\n        .attr('transform', d => `translate(${d.y},${d.x})`)\r\n        // .attr('r', 10)\r\n        // .style('fill', function (d) {\r\n        //   return d._children ? '#c9e4ff' : '#fff'\r\n        // })\r\n        // .attr('cursor', 'pointer')\r\n        .attr('fill-opacity', 1)\r\n        .attr('stroke-opacity', 1)\r\n      console.log(nodeUpdate) // eslint-disable-line\r\n\r\n      // Transition exiting nodes to the parent's new position.\r\n      const nodeExit = node.exit().transition(transition).remove()\r\n        .attr('transform', () => `translate(${source.y},${source.x})`)\r\n        .attr('fill-opacity', 0)\r\n        .attr('stroke-opacity', 0)\r\n\r\n      console.log(nodeExit) // eslint-disable-line\r\n\r\n      // Update the links…\r\n      const link = gLink.selectAll('path')\r\n        .data(links, d => d.target.id)\r\n\r\n      // Enter any new links at the parent's previous position.\r\n      const linkEnter = link.enter().append('path')\r\n        .attr('d', () => {\r\n          const o = { x: source.x0, y: source.y0 }\r\n          return diagonal({ source: o, target: o })\r\n        })\r\n\r\n      // Transition links to their new position.\r\n      link.merge(linkEnter).transition(transition)\r\n        .attr('d', diagonal)\r\n\r\n      // Transition exiting nodes to the parent's new position.\r\n      link.exit().transition(transition).remove()\r\n        .attr('d', () => {\r\n          const o = { x: source.x, y: source.y }\r\n          return diagonal({ source: o, target: o })\r\n        })\r\n\r\n      // Stash the old positions for transition.\r\n      root.eachBefore(d => {\r\n        d.x0 = d.x\r\n        d.y0 = d.y\r\n      })\r\n    }\r\n\r\n    update(root)\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.width-100-percent {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeVI.vue?vue&type=template&id=b59c456e&scoped=true&\"\nimport script from \"./TreeVI.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeVI.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeVI.vue?vue&type=style&index=0&id=b59c456e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b59c456e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=style&index=0&id=b59c456e&scoped=true&lang=css&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}